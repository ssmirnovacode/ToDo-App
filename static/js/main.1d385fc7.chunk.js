(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var o=n(8),a=n(18),c=n.n(a),r=n(13),s=n(12),i=n(10),l=(n(25),n(3)),u=function(e){var t=e.value,n=e.onSearch;return Object(l.jsx)("input",{className:"form-control search-input",placeholder:"Search",onChange:function(e){return n(e.target.value)},value:t})},d=n(20),b=(n(27),function(e){var t=e.label,n=e.onDelete,o=e.onToggleDone,a=e.onToggleImportant,c=e.important,r=e.done,s=e.darkmode,i=s?"todo-list-item darkmode":"todo-list-item";r&&(i+=" done"),c&&(i+=" important");var u=c?"btn btn-outline-danger btn-sm float-right mr-2 active":"btn btn-outline-danger btn-sm float-right mr-2";return Object(l.jsxs)("div",{className:i,"data-todoitem":!0,children:[Object(l.jsx)("div",{className:"todo-list-item-label",onClick:o,children:t}),Object(l.jsxs)("div",{className:"todo-btn-group",children:[Object(l.jsx)("button",{type:"button",className:s?u+" darkmode":u,onClick:a,children:Object(l.jsx)("i",{className:"fa fa-exclamation"})}),Object(l.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm float-right",onClick:n,children:Object(l.jsx)("i",{className:"fa fa-trash-o"})})]})]})}),m=(n(28),function(e){var t=e.items,n=e.onDelete,o=e.onToggleDone,a=e.onToggleImportant,c=e.darkmode;return Object(l.jsx)("ul",{className:"list-group todo-list",children:t.map((function(e){var t=e.id,r=Object(d.a)(e,["id"]);return Object(l.jsx)("li",{className:c?"list-group-item darkmode":"list-group-item",children:Object(l.jsx)(b,Object(s.a)(Object(s.a)({},r),{},{onDelete:function(){return n(t)},onToggleImportant:function(){return a(t)},onToggleDone:function(){return o(t)},darkmode:c}))},t)}))})}),j=(n(29),function(e){var t=e.toDo,n=e.done;return Object(l.jsxs)("div",{className:"app-header d-flex",children:[Object(l.jsx)("h1",{children:"ToDo List"}),Object(l.jsxs)("h2",{children:[n," done, ",t," pending"]})]})}),f=(n(30),function(e){return Object(l.jsx)("div",{className:"btn-group",children:[{name:"all",label:"All"},{name:"active",label:"Pending"},{name:"done",label:"Done"}].map((function(t){var n=e.filter===t.name?"btn btn-info":"btn btn-outline-secondary";return Object(l.jsx)("button",{type:"button",id:t.name,className:n,onClick:function(t){e.onSwitch(t.target.id)},children:t.label},t.name)}))})}),p=(n(31),function(e){var t=Object(o.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(l.jsxs)("form",{className:"item-add-form d-flex",onSubmit:function(t){t.preventDefault(),e.onAdd(a),c("")},children:[Object(l.jsx)("input",{required:!0,type:"text",className:"form-control",onChange:function(e){c(e.target.value)},placeholder:"What needs to be done?",value:a}),Object(l.jsx)("button",{className:"btn btn-outline-secondary",children:"Add item"})]})}),h=(n(32),n(33),function(e){var t=Object(o.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(l.jsxs)("form",{className:"item-add-form d-flex",onSubmit:function(t){t.preventDefault(),e.onLogin(a),c("")},children:[Object(l.jsx)("input",{required:!0,type:"text",className:"form-control",onChange:function(e){c(e.target.value)},placeholder:"Enter your name",value:a}),Object(l.jsx)("button",{className:"btn btn-outline-secondary",children:"Login"})]})}),g=n(16);g.a.initializeApp({apiKey:"AIzaSyDwUxxk_ce9eeG2OCgpHJnXB63LqRarWvk",authDomain:"todo-app-c1a38.firebaseapp.com",databaseURL:"https://todo-app-c1a38-default-rtdb.europe-west1.firebasedatabase.app",projectId:"todo-app-c1a38",storageBucket:"todo-app-c1a38.appspot.com",messagingSenderId:"449895565577",appId:"1:449895565577:web:5c9aad265847e3de21abd8"});var O=g.a,x=function(){var e=localStorage.getItem("user")||"",t=Object(o.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1];Object(o.useEffect)((function(){localStorage.clear(),O.database().ref("items").on("value",(function(e){var t=e.val(),n=[];for(var o in t)n.push(Object(s.a)({id:o},t[o]));c(n)}),(function(e){throw new Error(e)}))}),[]);var d=Object(o.useState)(""),b=Object(i.a)(d,2),g=b[0],x=b[1],v=Object(o.useState)("all"),N=Object(i.a)(v,2),w=N[0],y=N[1],S=Object(o.useState)(!1),k=Object(i.a)(S,2),D=k[0],C=k[1],I=Object(o.useState)(!1),T=Object(i.a)(I,2),L=T[0],A=T[1],E=function(e,t,n){var o=e.find((function(e){return e.id===t}));O.database().ref("items/"+t).update(Object(r.a)({},n,!o[n]),(function(e){if(e)throw new Error(e);console.log("Data updated successfully")}))},q=a.filter((function(t){return t.owner===e})).filter((function(e){return e.label.toLowerCase().indexOf(g.toLowerCase())>-1})).filter((function(e){return"done"===w?!0===e.done:"active"===w?!1===e.done:e})),F=a.filter((function(t){return t.owner===e})),R=F.filter((function(e){return!0===e.done})).length,B=F.length-R,J=D?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"user-panel d-flex",children:[Object(l.jsxs)("div",{className:"greeting mr-2",children:["Hello, ",e]}),Object(l.jsx)("button",{className:"btn btn-outline-secondary logout",onClick:function(){return C(!1)},children:"Log out"})]})}):null,P=D?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j,{toDo:B,done:R}),Object(l.jsxs)("div",{className:"top-panel d-flex",children:[Object(l.jsx)(u,{value:g,onSearch:function(e){x(e)}}),Object(l.jsx)(f,{filter:w,onSwitch:function(e){y(e)}})]}),Object(l.jsx)(m,{darkmode:L,items:q,onDelete:function(e){window.confirm("Are you sure you want to delete this item?")&&O.database().ref("items/"+e).remove().then((function(){return console.log("Remove succeeded.")})).catch((function(e){console.log("Remove failed: "+e.message)}))},onToggleDone:function(e){E(a,e,"done")},onToggleImportant:function(e){E(a,e,"important")}}),Object(l.jsx)(p,{onAdd:function(e){var t=function(e){return{label:e,important:!1,done:!1,owner:localStorage.getItem("user")}}(e);O.database().ref("items").push(t)}})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"ToDo List"}),Object(l.jsx)(h,{onLogin:function(e){localStorage.setItem("user",e),C(!0)}}),Object(l.jsxs)("div",{className:"descr mt-2",children:["Please log in. No password required.",Object(l.jsx)("br",{}),"To create a new user just type your username.",Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:"Please note that our todo items will be available to anyone who logs in with your username"})]})]});return Object(l.jsxs)("div",{className:L?"todo-app darkmode":"todo-app",children:[J,Object(l.jsxs)("div",{className:"dark-toggle custom-control custom-switch mt-3 mb-2",children:[Object(l.jsx)("label",{className:"custom-control-label",htmlFor:"customSwitch1",children:"Dark mode"}),Object(l.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customSwitch1",value:L,onChange:function(){A(!L)}})]}),P]})};n(37);c.a.render(Object(l.jsx)(x,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1d385fc7.chunk.js.map