(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(20),o=n.n(r),c=n(6),s=n(10),i=n(11),l=n.n(i),u=n(13),d=n(15),m=n(8),b=(n(28),n(1)),j=function(e){var t=e.value,n=e.onSearch;return Object(b.jsx)("input",{className:"form-control search-input",placeholder:"Search",onChange:function(e){return n(e.target.value)},value:t})},p=n(22),f=(n(30),function(e){var t=e.label,n=e.onDelete,a=e.onToggleDone,r=e.onToggleImportant,o=e.important,c=e.done,s=e.darkmode,i=s?"todo-list-item darkmode":"todo-list-item";c&&(i+=" done"),o&&(i+=" important");var l=o?"btn btn-outline-danger btn-sm float-right mr-2 active":"btn btn-outline-danger btn-sm float-right mr-2";return Object(b.jsxs)("div",{className:i,"data-todoitem":!0,children:[Object(b.jsx)("div",{className:"todo-list-item-label",onClick:a,children:t}),Object(b.jsxs)("div",{className:"todo-btn-group",children:[Object(b.jsx)("button",{type:"button",className:s?l+" darkmode":l,onClick:r,children:Object(b.jsx)("i",{className:"fa fa-exclamation"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm float-right",onClick:n,children:Object(b.jsx)("i",{className:"fa fa-trash-o"})})]})]})}),h=(n(31),function(e){var t=e.items,n=e.onDelete,a=e.onToggleDone,r=e.onToggleImportant,o=e.darkmode;return Object(b.jsx)("ul",{className:"list-group todo-list",children:t.map((function(e){var t=e.id,s=Object(p.a)(e,["id"]);return Object(b.jsx)("li",{className:o?"list-group-item darkmode":"list-group-item",children:Object(b.jsx)(f,Object(c.a)(Object(c.a)({},s),{},{onDelete:function(){return n(t)},onToggleImportant:function(){return r(t)},onToggleDone:function(){return a(t)},darkmode:o}))},t)}))})}),O=(n(32),function(e){var t=e.toDo,n=e.done;return Object(b.jsxs)("div",{className:"app-header d-flex",children:[Object(b.jsx)("h1",{children:"ToDo List"}),Object(b.jsxs)("h2",{children:[n," done, ",t," pending"]})]})}),g=function(e){return Object(b.jsx)("div",{className:"btn-group",children:[{name:"all",label:"All"},{name:"active",label:"Pending"},{name:"done",label:"Done"}].map((function(t){var n=e.filter===t.name?"btn btn-info":"btn btn-outline-secondary";return Object(b.jsx)("button",{type:"button",id:t.name,className:n,onClick:function(t){e.onSwitch(t.target.id)},children:t.label},t.name)}))})},x=(n(33),function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),r=n[0],o=n[1];return Object(b.jsxs)("form",{className:"item-add-form d-flex",onSubmit:function(t){t.preventDefault(),e.onAdd(r),o("")},children:[Object(b.jsx)("input",{required:!0,type:"text",className:"form-control",onChange:function(e){o(e.target.value)},placeholder:"What needs to be done?",value:r}),Object(b.jsx)("button",{className:"btn btn-outline-secondary",children:"Add item"})]})}),v=(n(34),n(16));n(43),n(36);v.a.initializeApp({apiKey:"AIzaSyDwUxxk_ce9eeG2OCgpHJnXB63LqRarWvk",authDomain:"todo-app-c1a38.firebaseapp.com",databaseURL:"https://todo-app-c1a38-default-rtdb.europe-west1.firebasedatabase.app",projectId:"todo-app-c1a38",storageBucket:"todo-app-c1a38.appspot.com",messagingSenderId:"449895565577",appId:"1:449895565577:web:5c9aad265847e3de21abd8"}),v.a.auth();var w=v.a.firestore(),N=v.a,y=(n(38),function(e){var t=e.darkmode;return Object(b.jsxs)("div",{className:t?"footer darkmode":"footer",children:[Object(b.jsx)("div",{className:"footer_social_title",children:"Find us on social media:"}),Object(b.jsxs)("div",{className:"footer_social_icons",children:[Object(b.jsx)("a",{href:"https://github.com/ssmirnovacode/ToDo-App",target:"blank",children:Object(b.jsx)("i",{className:"sm-icon fa fa-facebook-square"})}),Object(b.jsx)("a",{href:"https://github.com/ssmirnovacode/ToDo-App",target:"blank",children:Object(b.jsx)("i",{className:"sm-icon fa fa-linkedin-square"})}),Object(b.jsx)("a",{href:"https://github.com/ssmirnovacode/ToDo-App",target:"blank",children:Object(b.jsx)("i",{className:"sm-icon fa fa-github-square"})})]})]})}),k=(n(39),{username:"",email:"",password:"",password2:""}),S=function(e){var t=Object(a.useState)(k),n=Object(m.a)(t,2),r=n[0],o=n[1],i=function(e){o(Object(c.a)(Object(c.a)({},r),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("form",{className:"register-form d-flex",onSubmit:function(t){var n;(t.preventDefault(),r.password===r.password2)&&(n=r,N.auth().createUserWithEmailAndPassword(n.email,n.password).then((function(){return N.auth().currentUser.updateProfile({displayName:n.username,photoURL:null})})).then((function(){return e.onRegister()})).catch((function(e){return console.error(e.message)})),o(k))},children:[Object(b.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(b.jsx)("input",{required:!0,type:"text",className:"form-control",name:"username",onChange:i,placeholder:"Enter your name",value:r.username}),Object(b.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(b.jsx)("input",{required:!0,type:"email",className:"form-control",name:"email",onChange:i,placeholder:"Enter your email",value:r.email}),Object(b.jsx)("label",{htmlFor:"pass",children:"Password: "}),Object(b.jsx)("input",{required:!0,type:"password",className:"form-control",name:"password",onChange:i,placeholder:"Enter your password",value:r.password}),Object(b.jsx)("label",{htmlFor:"pass-2",children:"Repeat password: "}),Object(b.jsx)("input",{required:!0,type:"password",className:"form-control",name:"password2",onChange:i,placeholder:"Repeat your password",value:r.password2}),r.password===r.password2?null:Object(b.jsx)("div",{className:"err-message",children:"Passwords don\xb4t match!!"}),Object(b.jsx)("button",{className:"btn btn-outline-secondary",type:"submit",children:"Sign up"})]})},D=(n(40),{loginError:"",user:{email:"",password:""}}),C=function(e){var t=Object(a.useState)(D),n=Object(m.a)(t,2),r=n[0],o=n[1],i=function(e){o((function(t){return Object(c.a)(Object(c.a)({},t),{},{user:Object(c.a)(Object(c.a)({},t.user),{},Object(s.a)({},e.target.name,e.target.value))})}))};return Object(b.jsxs)("form",{className:"login-form d-flex",onSubmit:function(e){e.preventDefault(),N.auth().signInWithEmailAndPassword(r.user.email,r.user.password).then((function(){o(D)})).catch((function(e){return o((function(t){return Object(c.a)(Object(c.a)({},t),{},{loginError:e.message})}))}))},children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(b.jsx)("input",{required:!0,type:"email",className:"form-control",name:"email",onChange:i,placeholder:"Enter your email",value:r.email}),Object(b.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(b.jsx)("input",{required:!0,type:"password",className:"form-control",name:"password",onChange:i,placeholder:"Enter your password",value:r.password}),r.loginError?Object(b.jsx)("div",{className:"err-message",children:r.loginError}):null,Object(b.jsx)("button",{className:"btn btn-outline-secondary",type:"submit",children:"Login"})]})},E=function(){var e=N.auth().currentUser||null,t=Object(a.useState)([]),n=Object(m.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(""),p=Object(m.a)(i,2),f=p[0],v=p[1],k=Object(a.useState)("all"),D=Object(m.a)(k,2),E=D[0],A=D[1],F=Object(a.useState)(!1),I=Object(m.a)(F,2),T=I[0],q=I[1],L=Object(a.useState)(!1),P=Object(m.a)(L,2),U=P[0],R=P[1],_=Object(a.useState)("login"),W=Object(m.a)(_,2),B=W[0],J=W[1];N.auth().onAuthStateChanged((function(t){t&&"login"===B?(e=N.auth().currentUser,q(!0)):q(!1)})),Object(a.useEffect)((function(){w.collection("items").get().then((function(e){var t=function(e){var t=[];return e.forEach((function(e){t.push(Object(c.a)(Object(c.a)({},e.data()),{},{id:e.id}))})),t}(e);o(t)})).catch((function(e){return console.error(e.message)}))}),[]);var z=function(t){return{label:t,important:!1,done:!1,owner:e.uid,id:(1e8*Math.random()).toString()}},H=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z(t),e.next=3,w.collection("items").doc(n.id).set(n);case 3:o((function(e){return[].concat(Object(u.a)(e),[n])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this item?")){e.next=6;break}return e.next=3,w.doc("items/".concat(t)).delete();case 3:n=r.findIndex((function(e){return e.id===t})),a=[].concat(Object(u.a)(r.slice(0,n)),Object(u.a)(r.slice(n+1))),o(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(d.a)(l.a.mark((function e(t,n,a){var i,d,m,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.find((function(e){return e.id===n})),e.next=3,w.doc("items/".concat(n)).update(Object(s.a)({},a,!i[a]),(function(e){throw new Error(e)}));case 3:d=t.findIndex((function(e){return e.id===n})),m=Object(c.a)(Object(c.a)({},r[d]),{},Object(s.a)({},a,!i[a])),b=[].concat(Object(u.a)(r.slice(0,d)),[m],Object(u.a)(r.slice(d+1))),o(b);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.auth().signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=r&&r.filter((function(t){return e&&t.owner===e.uid})).filter((function(e){return e.label.toLowerCase().indexOf(f.toLowerCase())>-1})).filter((function(e){return"done"===E?!0===e.done:"active"===E?!1===e.done:e})),Y=r.filter((function(t){return t.owner===e})),Q=Y.filter((function(e){return!0===e.done})).length,V=Y.length-Q,Z=T?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"user-panel d-flex",children:[Object(b.jsxs)("div",{className:"greeting mr-2",children:["Hello, ",e&&e.displayName]}),Object(b.jsx)("button",{className:"btn btn-outline-secondary logout",onClick:M,children:"Log out"})]})}):null,$=T?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{toDo:V,done:Q}),Object(b.jsxs)("div",{className:"top-panel d-flex",children:[Object(b.jsx)(j,{value:f,onSearch:function(e){v(e)}}),Object(b.jsx)(g,{filter:E,onSwitch:function(e){A(e)}})]}),Object(b.jsx)(h,{darkmode:U,items:X,onDelete:G,onToggleDone:function(e){K(r,e,"done")},onToggleImportant:function(e){K(r,e,"important")}}),Object(b.jsx)(x,{onAdd:H})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"ToDo List"}),"login"===B?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(C,{}),Object(b.jsxs)("div",{className:"descr mt-2",children:["If you are not registered yet, you can sign up ",Object(b.jsx)("span",{className:"login-span",onClick:function(){return J("register")},children:"here"})]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(S,{onRegister:function(){return J("login")}}),Object(b.jsxs)("div",{className:"descr mt-2",children:["Already registered? Please  ",Object(b.jsx)("span",{className:"login-span",onClick:function(){return J("login")},children:"log in"})]}),Object(b.jsxs)("div",{className:"descr mt-2",children:["For demo purposes email verification has been disabled.",Object(b.jsx)("br",{}),"You can register with an imaginary email (por example, test@test.com)"]})]})]});return Object(b.jsxs)("div",{className:U?"todo-app darkmode":"todo-app",children:[Z,Object(b.jsxs)("div",{className:"dark-toggle custom-control custom-switch mt-3 mb-2",children:[Object(b.jsx)("label",{className:"custom-control-label",htmlFor:"customSwitch1",children:"Dark mode"}),Object(b.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customSwitch1",value:U,onChange:function(){R(!U)}})]}),$,Object(b.jsx)(y,{darkmode:U})]})};n(41);o.a.render(Object(b.jsx)(E,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.5951176c.chunk.js.map