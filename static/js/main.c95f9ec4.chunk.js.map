{"version":3,"sources":["firebase.config.js","components/footer/footer.js","components/user-panel/user-panel.js","components/app-header/app-header.js","components/search-panel/search-panel.js","components/item-status-filter/item-status-filter.js","components/todo-list-item/todo-list-item.js","components/todo-list/todo-list.js","components/item-add-form/item-add-form.js","components/login/login.js","components/register/register.js","components/content/content.js","components/app/app.js","utils/tools.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","Footer","darkmode","className","href","target","UserPanel","props","useState","errMessage","setErrMessage","name","handleLogOut","useEffect","timerId","setTimeout","console","log","clearInterval","onClick","currentUser","uid","newEmail","prompt","updateEmail","then","signOut","catch","err","error","message","newPassword","updatePassword","AppHeader","toDo","done","SearchPanel","value","onSearch","placeholder","onChange","e","ItemStatusFilter","label","map","btn","btnClass","filter","type","id","onSwitch","TodoListItem","onDelete","onToggleDone","onToggleImportant","important","itemClass","data-todoitem","TodoList","items","item","itemProps","ItemAddForm","setLabel","onSubmit","preventDefault","onAdd","required","initialLoginState","isResetEmailSent","loginError","user","email","password","LoginForm","loginState","setLoginState","onLabelChange","signInWithEmailAndPassword","htmlFor","sendPasswordResetEmail","initialRegState","username","password2","RegisterForm","regState","setRegState","data","createUserWithEmailAndPassword","updateProfile","displayName","photoURL","sendEmailVerification","onRegister","Content","loggedIn","pendingCount","doneCount","pattern","searchItems","onSwitchFilter","dark","visibleItems","deleteItem","toggleDone","toggleImportant","addItem","signInType","setSignInType","guestUserSignIn","App","setItems","setPattern","setFilter","setLoggedIn","setDark","collection","get","snapshot","todos","forEach","doc","push","firebaseLooper","onAuthStateChanged","userObj","createNewItem","owner","Math","random","toString","a","newItem","set","window","confirm","delete","idX","findIndex","newArray","slice","toggleStatus","array","statusName","oldItem","find","update","Error","toLowerCase","indexOf","userItems","el","length","contentProps","filterName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c95f9ec4.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDwUxxk_ce9eeG2OCgpHJnXB63LqRarWvk\",\r\n    authDomain: \"todo-app-c1a38.firebaseapp.com\",\r\n    databaseURL: \"https://todo-app-c1a38-default-rtdb.europe-west1.firebasedatabase.app\",\r\n    projectId: \"todo-app-c1a38\",\r\n    storageBucket: \"todo-app-c1a38.appspot.com\",\r\n    messagingSenderId: \"449895565577\",\r\n    appId: \"1:449895565577:web:5c9aad265847e3de21abd8\"\r\n  };\r\n  \r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.auth(); // initializing authentcation\r\n\r\nexport const db = firebase.firestore(); // now our db is an instance of firestore\r\n\r\nexport default firebase;","import React from 'react';\r\nimport './footer.scss';\r\n\r\nconst Footer = ({darkmode}) => {\r\n    return(\r\n        <div className={darkmode ? 'footer darkmode': 'footer'}>\r\n            <div className=\"footer_social_title\">Find us on social media:</div>\r\n                <div className=\"footer_social_icons\">\r\n                    <a href={'https://github.com/ssmirnovacode/ToDo-App'} target=\"blank\" ><i className=\"sm-icon fa fa-facebook-square\"></i></a>\r\n                    <a href={'https://github.com/ssmirnovacode/ToDo-App'} target=\"blank\" ><i className=\"sm-icon fa fa-linkedin-square\"></i></a>\r\n                    <a href={'https://github.com/ssmirnovacode/ToDo-App'} target=\"blank\" ><i className=\"sm-icon fa fa-github-square\"></i></a>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React, {useState, useEffect} from 'react';\r\nimport './user-panel.scss';\r\nimport firebase from '../../firebase.config';\r\n\r\nconst UserPanel = (props) => {\r\n\r\n    const [errMessage, setErrMessage] = useState('');\r\n\r\n    const {name, handleLogOut} = props;\r\n\r\n    const changeEmail = () => {\r\n        if (firebase.auth().currentUser.uid !== 'pMzXQLXTikecjjABwy3vAnyipGC3') {\r\n            const newEmail = prompt('Enter new email. You will have to sign in again with the email indicated.');\r\n            newEmail && firebase.auth().currentUser.updateEmail(newEmail)\r\n            .then( () => firebase.auth().signOut())\r\n            .catch(err => console.error(err.message));\r\n        } \r\n        else {\r\n            setErrMessage('Guest users are not allowed to change email');\r\n        }\r\n    };\r\n\r\n    const changePassword = () => {\r\n        if (firebase.auth().currentUser.uid !== 'pMzXQLXTikecjjABwy3vAnyipGC3') {\r\n            const newPassword = prompt('Enter new password. You will have to sign in again with new password.');\r\n            newPassword && firebase.auth().currentUser.updatePassword(newPassword)\r\n            .then( () => firebase.auth().signOut())\r\n            .catch(err => setErrMessage(err.message));\r\n        } \r\n        else {\r\n            setErrMessage('Guest users are not allowed to change password');\r\n        }\r\n    };\r\n\r\n    useEffect( () => {\r\n        const timerId = setTimeout(() => setErrMessage(''), 2000);\r\n        console.log('timeout set');\r\n        return () => clearInterval(timerId);\r\n    }, [errMessage]);\r\n    \r\n    return(\r\n        <>\r\n        <div className=\"user-panel message mb-2\">{errMessage}</div>\r\n        <div className=\"user-panel d-flex\">\r\n            <div className=\"greeting mr-2\">Hello, {name || 'Guest'}</div> \r\n            <button className=\"btn btn-outline-secondary logout\" onClick={changeEmail}>Update email</button>\r\n            <button className=\"btn btn-outline-secondary logout\" onClick={changePassword}>Update password</button>   \r\n            <button className=\"btn btn-outline-secondary logout\" onClick={handleLogOut}>Log out</button>             \r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserPanel;","import React from 'react';\r\nimport './app-header.scss';\r\n\r\nconst AppHeader = ({toDo, done}) => {\r\n  return (\r\n    <div className=\"app-header d-flex\">\r\n      <h1>ToDo List</h1>\r\n      <h2>{done} done, {toDo} pending</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppHeader;","import React from 'react';\r\nimport './search-panel.scss';\r\n\r\nconst SearchPanel = ({value, onSearch}) => {\r\n    return <input className=\"form-control search-input\" placeholder=\"Search\" \r\n    onChange={(e) => onSearch(e.target.value)}\r\n    value={value}/>\r\n};\r\n\r\nexport default SearchPanel;","import React from 'react';\r\n\r\nconst ItemStatusFilter = (props) => {\r\n\r\n    const buttons = [\r\n    {name: \"all\", label: \"All\"},\r\n    {name: \"active\", label: \"Pending\"},\r\n    {name: \"done\", label: \"Done\"}\r\n  ];\r\n  \r\n  return (\r\n    <div className=\"btn-group\">\r\n      {\r\n        buttons.map(btn => {\r\n          const isActive = props.filter === btn.name;\r\n          const btnClass = isActive ? \"btn btn-info\" : \"btn btn-outline-secondary\";\r\n          return(\r\n            <button key={btn.name} type=\"button\" id={btn.name}\r\n            className={btnClass} onClick={(e) => {props.onSwitch(e.target.id)}}>{btn.label}</button>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemStatusFilter;","import React from 'react';\r\nimport './todo-list-item.scss';\r\n\r\nconst TodoListItem = (props) => {\r\n \r\n    const {label, onDelete, onToggleDone, onToggleImportant, important, done, darkmode} = props;\r\n    \r\n    let itemClass = darkmode ? 'todo-list-item darkmode' : 'todo-list-item';\r\n    \r\n    if (done) {\r\n      itemClass += ' done'\r\n    }\r\n    if (important) {\r\n      itemClass += ' important'\r\n    }\r\n\r\n    const btnClass = important ? \"btn btn-outline-danger btn-sm float-right mr-2 active\" : \"btn btn-outline-danger btn-sm float-right mr-2\";\r\n  \r\n    return (\r\n      <div className={itemClass} data-todoitem>\r\n        <div\r\n          className=\"todo-list-item-label\"\r\n          onClick={onToggleDone}>\r\n          {label}\r\n        </div>\r\n\r\n        <div className=\"todo-btn-group\">\r\n          <button type=\"button\"\r\n                  className={darkmode ? btnClass+' darkmode' : btnClass}\r\n                  onClick={onToggleImportant} >\r\n            <i className=\"fa fa-exclamation\" />\r\n          </button>\r\n          <button type=\"button\"\r\n                  className=\"btn btn-outline-secondary btn-sm float-right\"\r\n                  onClick={onDelete}>\r\n            <i className=\"fa fa-trash-o\" />\r\n          </button>\r\n          \r\n        </div>\r\n      \r\n      </div>\r\n    );  \r\n};\r\n\r\nexport default TodoListItem;","import React from 'react';\r\nimport TodoListItem from '../todo-list-item/todo-list-item';\r\nimport './todo-list.scss';\r\n\r\nconst TodoList = ({items, onDelete, onToggleDone, onToggleImportant, darkmode}) => {\r\n\r\n    return(\r\n        <ul className=\"list-group todo-list\">\r\n            {\r\n                items.map(item => {\r\n\r\n                    const {id,...itemProps} = item;\r\n                    return(\r\n                        <li className={darkmode ? \"list-group-item darkmode\" : \"list-group-item\"} key={id}>\r\n                            <TodoListItem {...itemProps} onDelete={() => onDelete(id)}\r\n                                onToggleImportant= {() => onToggleImportant(id)}\r\n                                onToggleDone= {() => onToggleDone(id)}\r\n                                darkmode={darkmode}/>\r\n                            </li> //{...item} взяли все ключи item и записали их в одноименные атрибуты\r\n                    )\r\n                })\r\n            }\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default TodoList;","import React, {useState} from 'react';\r\nimport './item-add-form.scss';\r\n\r\nconst ItemAddForm = (props) => {\r\n\r\n    const [label, setLabel] = useState('');\r\n\r\n    const onLabelChange = (e) => {\r\n        setLabel(e.target.value);\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onAdd(label);\r\n        setLabel('');  \r\n    }\r\n\r\n    return(\r\n        <form className=\"item-add-form d-flex\" onSubmit={onSubmit}>\r\n            <input required type=\"text\" className=\"form-control\" \r\n                onChange={onLabelChange} \r\n                placeholder=\"What needs to be done?\"\r\n                value={label} />\r\n            <button className=\"btn btn-outline-secondary\">Add item</button>\r\n        </form>\r\n    )  \r\n};\r\n\r\nexport default ItemAddForm;","import React, {useState} from 'react';\r\nimport './login.scss';\r\nimport firebase from '../../firebase.config';\r\n\r\nconst initialLoginState = {\r\n    isResetEmailSent: false,\r\n    loginError: '',\r\n    user: {\r\n        email: '',\r\n        password: ''\r\n    }\r\n};\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    const [loginState, setLoginState] = useState(initialLoginState);\r\n    const onLabelChange = (e) => {\r\n        setLoginState(loginState => ({\r\n            ...loginState,\r\n            user: {\r\n                ...loginState.user,\r\n                [e.target.name]: e.target.value\r\n            }\r\n        }));\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        firebase.auth().signInWithEmailAndPassword(loginState.user.email, loginState.user.password)\r\n        .then(() => {\r\n            setLoginState(initialLoginState);      \r\n        })\r\n        .catch(err => setLoginState(loginState => ({\r\n            ...loginState,\r\n            loginError: err.message\r\n        })));  \r\n    }\r\n\r\n    const resetPassword = () => {\r\n        firebase.auth().sendPasswordResetEmail(loginState.user.email)\r\n        .then(() => setLoginState(loginState =>({\r\n            ...loginState,\r\n            isResetEmailSent: true\r\n        })))\r\n        .catch(err => setLoginState(loginState => ({\r\n            ...loginState,\r\n            loginError: err.message\r\n        })));\r\n    }\r\n\r\n    return(\r\n        <form className=\"login-form d-flex\" onSubmit={onSubmit}>\r\n            <label htmlFor=\"email\">Email: </label>\r\n             <input required type=\"email\" className=\"form-control\" name=\"email\"\r\n                onChange={onLabelChange} \r\n                placeholder=\"Enter your email\"\r\n                value={loginState.email} />\r\n            <label htmlFor=\"password\">Password: </label>\r\n            <input required type=\"password\" className=\"form-control\" name=\"password\"\r\n                onChange={onLabelChange} \r\n                placeholder=\"Enter your password\"\r\n                value={loginState.password} />\r\n                {\r\n                loginState.loginError ? <div className=\"err-message\">{loginState.loginError}</div> : null\r\n                }\r\n            \r\n            {\r\n                loginState.isResetEmailSent ? \r\n                <span className=\"login-span email-sent\">Password reset instructions have been sent to <span className=\"login-span\">{loginState.user.email}</span></span> : \r\n                <span className=\"login-span\" onClick={resetPassword}>Forgot your password?</span>\r\n            }\r\n            <button className=\"btn btn-outline-secondary\" type=\"submit\">Login</button>     \r\n        </form>\r\n    )\r\n}\r\n\r\nexport default LoginForm;","import React, {useState} from 'react';\r\nimport './register.scss';\r\nimport firebase from '../../firebase.config';\r\n\r\nconst initialRegState = {\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    password2: ''\r\n}\r\n\r\nconst RegisterForm = (props) => {\r\n\r\n    const [regState, setRegState] = useState(initialRegState);\r\n\r\n    const onLabelChange = (e) => {\r\n        setRegState({\r\n            ...regState,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const handleRegister = (data) => {\r\n        firebase.auth().createUserWithEmailAndPassword(data.email, data.password)\r\n        .then(() => firebase.auth().currentUser.updateProfile({\r\n            displayName: data.username,\r\n            photoURL: null\r\n        }))\r\n        .then( () => firebase.auth().currentUser.sendEmailVerification().then(() => console.log('Email sent')) )\r\n        .then( () => props.onRegister())\r\n        .catch (err => console.error(err.message))\r\n    \r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (regState.password === regState.password2) {\r\n            handleRegister(regState);\r\n            setRegState(initialRegState); \r\n        }\r\n        else return;\r\n    }\r\n\r\n    return(\r\n\r\n        <form className=\"register-form d-flex\" onSubmit={onSubmit}>\r\n            <label htmlFor=\"username\">Username: </label>\r\n            <input required type=\"text\" className=\"form-control\" name=\"username\"\r\n                onChange={onLabelChange} \r\n                placeholder=\"Enter your name\"\r\n                value={regState.username} />\r\n            <label htmlFor=\"email\">Email: </label>\r\n            <input required type=\"email\" className=\"form-control\" name=\"email\"\r\n                onChange={onLabelChange} \r\n                placeholder=\"Enter your email\"\r\n                value={regState.email} />\r\n            <label htmlFor=\"pass\">Password: </label>\r\n            <input required type=\"password\" className=\"form-control\" name=\"password\"\r\n                onChange={onLabelChange} \r\n                placeholder=\"Enter your password\"\r\n                value={regState.password} />\r\n            <label htmlFor=\"pass-2\">Repeat password: </label>\r\n            <input required type=\"password\" className=\"form-control\" name=\"password2\"\r\n                onChange={onLabelChange} \r\n                placeholder=\"Repeat your password\"\r\n                value={regState.password2} />\r\n                {\r\n                    regState.password === regState.password2 ? null : <div className=\"err-message\">Passwords don´t match!!</div>\r\n                }\r\n            <button className=\"btn btn-outline-secondary\" type=\"submit\">Sign up</button>\r\n        </form>\r\n        \r\n    )\r\n}\r\n\r\nexport default RegisterForm;","import React from 'react';\r\nimport './content.scss';\r\nimport AppHeader from '../app-header/app-header';\r\nimport SearchPanel from '../search-panel/search-panel';\r\nimport ItemStatusFilter from '../item-status-filter/item-status-filter';\r\nimport TodoList from '../todo-list/todo-list';\r\nimport ItemAddForm from '../item-add-form/item-add-form';\r\nimport LoginForm from '../login/login';\r\nimport RegisterForm from '../register/register';\r\n\r\nconst Content = props => {\r\n\r\n    const{ loggedIn, pendingCount, doneCount, pattern, searchItems, filter, onSwitchFilter, dark, visibleItems, \r\n            deleteItem, toggleDone, toggleImportant, addItem, signInType, setSignInType, guestUserSignIn} = props;\r\n\r\n    return(\r\n        <>\r\n            {\r\n                loggedIn ? \r\n                <>\r\n                    <AppHeader toDo={pendingCount} done={doneCount} />\r\n                    <div className=\"top-panel d-flex\">\r\n                        <SearchPanel value={pattern} onSearch={searchItems}/>\r\n                        <ItemStatusFilter filter={filter} onSwitch={onSwitchFilter}/>\r\n                    </div>\r\n                    <TodoList darkmode={dark} items={visibleItems} onDelete={ deleteItem} \r\n                        onToggleDone={toggleDone} onToggleImportant={toggleImportant}/>\r\n                    <ItemAddForm onAdd={addItem}/> \r\n                </> \r\n                : \r\n                <>\r\n                    <h1>ToDo List</h1>\r\n                    {\r\n                        signInType === 'login' ? \r\n                        <>\r\n                        <LoginForm />\r\n                        <div className=\"descr mt-2\">If you are not registered yet, you can sign up <span className=\"login-span\" \r\n                            onClick={() => setSignInType('register')}>here</span></div>\r\n                        <div className=\"descr mt-2\">You can also sign-in as a <span className=\"login-span\"\r\n                            onClick={guestUserSignIn}>guest </span>\r\n                            (your data will be public)</div>\r\n                        </>\r\n                        : \r\n                        <>\r\n                        <RegisterForm onRegister={() => setSignInType('login')} />\r\n                        <div className=\"descr mt-2\">Already registered? Please  <span className=\"login-span\" \r\n                            onClick={() => setSignInType('login')}>log in</span></div>\r\n                            <div className=\"descr mt-2\">The app rules allow you sign up with an imaginary email (for example, test@test.com). \r\n                                <span className=\"warning-span\"> Please note that you won´t be able to reset your password by email in that case</span>\r\n                            </div>\r\n                        </>\r\n                    } \r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Content;","import React, {useEffect, useState} from 'react';\r\nimport './app.scss';\r\nimport firebase, { db } from '../../firebase.config';\r\nimport Footer from '../footer/footer';\r\nimport { firebaseLooper } from '../../utils/tools';\r\nimport UserPanel from '../user-panel/user-panel';\r\nimport Content from '../content/content';\r\n\r\nconst App = () => {\r\n\r\n    let user = firebase.auth().currentUser || null;\r\n\r\n    //==============State hooks====================================================\r\n\r\n    const [items, setItems] = useState([]);\r\n     \r\n    const [pattern, setPattern] = useState(''); //search query\r\n\r\n    const [filter, setFilter] = useState('all');\r\n\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n    const [dark, setDark] = useState(false);\r\n\r\n    const [signInType, setSignInType] = useState('login');\r\n\r\n    useEffect( () => {\r\n        db.collection('items').get().then(snapshot => {\r\n            const todos = firebaseLooper(snapshot);\r\n            setItems(todos);\r\n        })\r\n        .catch( err => console.error(err.message));\r\n    }, []);\r\n\r\n    //====Firebase tools====================================\r\n\r\n    firebase.auth().onAuthStateChanged( userObj => {\r\n        if (userObj && signInType === 'login') {\r\n            user = firebase.auth().currentUser;\r\n            setLoggedIn(true);\r\n        }\r\n        else {\r\n            setLoggedIn(false);\r\n        }\r\n    });\r\n\r\n    const guestUserSignIn = () => {\r\n        firebase.auth().signInWithEmailAndPassword('guest@test.com', 'test123')\r\n        .then( () => {\r\n            setLoggedIn(true);\r\n            console.log(user);\r\n        })\r\n        .catch(err => console.error(err.message));\r\n    }\r\n\r\n    //==============Methods ====================================================\r\n\r\n    const createNewItem = (label) => {\r\n        return {\r\n            label,\r\n            important: false,\r\n            done: false,\r\n            owner: user.uid,\r\n            id: (Math.random()*100000000).toString()\r\n        }\r\n    };\r\n\r\n    const addItem = async (label) => { \r\n        const newItem = createNewItem(label);\r\n        await db.collection('items').doc(newItem.id).set(newItem);\r\n        setItems(items => ([...items, newItem]));\r\n    };\r\n\r\n    const deleteItem = async id => { \r\n        if (window.confirm('Are you sure you want to delete this item?')) {\r\n            await db.doc(`items/${id}`).delete();\r\n            const idX = items.findIndex(item => item.id === id);\r\n            const newArray = [...items.slice(0,idX), ...items.slice(idX + 1)];\r\n            setItems(newArray);\r\n        }      \r\n    };\r\n\r\n    const toggleStatus = async (array, id, statusName) => { \r\n            const oldItem = array.find(item => item.id === id);\r\n            \r\n            await db.doc(`items/${id}`).update({\r\n                [statusName]: !oldItem[statusName]\r\n                }, error => {\r\n                    throw new Error(error);\r\n                    }\r\n                );\r\n            const idX = array.findIndex(item => item.id === id);\r\n            const newItem = {\r\n                ...items[idX],\r\n                [statusName]: !oldItem[statusName]\r\n            };\r\n            const newArray = [...items.slice(0, idX), newItem, ...items.slice(idX + 1)];\r\n            setItems(newArray);    \r\n    };\r\n\r\n    const toggleDone = id => {  \r\n        toggleStatus(items, id, 'done');\r\n    };\r\n\r\n    const toggleImportant = id => { \r\n        toggleStatus(items, id, 'important');\r\n    };\r\n\r\n    const searchItems = (value) => { \r\n        setPattern(value);\r\n    };\r\n\r\n    const onSwitchFilter = (filterName) => { \r\n        setFilter(filterName);\r\n    }\r\n\r\n    const handleLogOut = async () => {\r\n        await firebase.auth().signOut();\r\n    }\r\n\r\n    const toggleDark = () => {\r\n        dark ? setDark(false) : setDark(true);\r\n    };\r\n\r\n    // ===== Rendering options ===============\r\n    const visibleItems = items && items.filter(item => user && item.owner === user.uid)\r\n                                .filter(item => item.label.toLowerCase().indexOf(pattern.toLowerCase()) > -1)\r\n                                .filter(item => {\r\n                                    if (filter === 'done') {\r\n                                        return item.done === true\r\n                                    }\r\n                                    else if (filter === 'active') {\r\n                                        return item.done === false\r\n                                    }\r\n                                    else return item\r\n                                });\r\n\r\n    const userItems = items.filter(item => item.owner === user);\r\n    const doneCount = userItems.filter(el => el.done === true).length;\r\n    const pendingCount = userItems.length - doneCount;\r\n\r\n    const contentProps = {\r\n        loggedIn, pendingCount, doneCount, pattern, searchItems, filter, onSwitchFilter, dark, visibleItems, \r\n        deleteItem, toggleDone, toggleImportant, addItem, signInType, setSignInType, guestUserSignIn\r\n    }\r\n\r\n    return(\r\n        <div className={dark ? \"todo-app darkmode\" : \"todo-app\"}>\r\n            {loggedIn && <UserPanel name={user.displayName} handleLogOut={handleLogOut} /> }\r\n            <div className=\"dark-toggle custom-control custom-switch mt-3 mb-2\">\r\n                <label className=\"custom-control-label\" htmlFor=\"customSwitch1\">Dark mode</label>\r\n                <input type=\"checkbox\" className=\"custom-control-input\" id=\"customSwitch1\" \r\n                    value={dark} onChange={toggleDark}/>\r\n            </div>\r\n            <Content {...contentProps} />\r\n            <Footer darkmode={dark} />\r\n        </div>\r\n    )    \r\n}\r\n\r\nexport default App;","export const firebaseLooper = snapshot => {\r\n    let data= [];\r\n    snapshot.forEach(doc => {\r\n        data.push({\r\n            ...doc.data(),\r\n            id: doc.id //custom id generated by Firebase to be mapped as a property\r\n        })\r\n    })\r\n    return data;\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app';\nimport 'bootswatch/dist/sketchy/bootstrap.min.css';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}